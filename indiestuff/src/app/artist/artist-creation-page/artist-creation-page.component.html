<app-top-nav></app-top-nav>
<app-my-navbar></app-my-navbar>
<app-page-top-image
  [headerImageUrl]="artistPageLayout.headerImageUrl"
></app-page-top-image>
<div class="add-album-container">
  <h3>album</h3>
  <form
    class="form-container"
    novalidate
    (ngSubmit)="onFormSubmit(albumForm)"
    #albumForm="ngForm"
  >
    <div class="left-side">
      <!-- title input block -->
      <div class="album-creation" [style.background]="color">
        <div>
          <div class="form-group">
            <label for="inputTitle" class="col-lg-2 control-label"
              >album title</label
            >
            <div class="col-lg-7">
              <input
                type="text"
                placeholder="album name something pretentious..."
                class="form-control input-custom"
                [ngModel]="newAlbum.title"
                name="title"
                #title="ngModel"
                id="inputTitle"
                required
              />
            </div>
          </div>
        </div>
        <img class="image-uploaded" id="file_id" />

        <!-- album cover block -->
        <div>
          <div class="form-group">
            <label for="inputCover" class="col-lg-2 control-label"
              >add album cover</label
            >

            <label for="file-input">
              <img
                style="padding-left: 70px"
                width="60px"
                height="60px"
                src="/assets/icons/web/outline_add_photo_alternate_black_48dp.png"
              />
            </label>
            <input
              type="file"
              id="file-input"
              (change)="imageUpload($event)"
              style="display: none"
            />
          </div>
        </div>
        <!-- colour choice block -->
        <div>
          <div class="form-group">
            <label for="inputColour" class="col-lg-2 control-label"
              >colour</label
            >
            <img
              style="padding-left: 198px"
              width="60px"
              height="60px"
              src="/assets/icons/web/outline_color_lens_black_36dp.png"
              [(colorPicker)]="color"
              [cpColorMode]="'color'"
              [cpPresetColors]="[
                'rgba(71, 82, 94, 0.85)',
                '#00008B',
                '#2889e9',
                '#431c53',
                '#e920e9',
                'rgb(178, 32, 101)',
                '#FF8C00',
                '#fff500',
                '#8b0000',
                'rgb(236,64,64)',
                '#228B22',
                '#20B2AA',
                '#808000'
              ]"
              (colorPickerClose)="updateColor($event)"
            />
          </div>
        </div>

        <!-- song block -->
        <div>
          <div class="form-group">
            <label for="inputTrack" class="col-lg-2 control-label"
              >add track</label
            >
            <img
              style="padding-left: 163px"
              width="60px"
              height="60px"
              src="/assets/icons/web/outline_cloud_upload_black_36dp.png"
              (click)="openTrackUploadForm()"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="right-side">
      <div cdkDropList class="track-list" (cdkDropListDropped)="drop($event)">
        <div *ngFor="let track of tracks; index as i" class="track-box" cdkDrag>
          <div class="left-side-items">
            <a>{{ i + 1 }}</a>
            <img
              *ngIf="
                indexOfSongPlaying !== i ||
                (isPaused && indexOfSongPlaying === i)
              "
              class="play-arrow"
              src="/assets/icons/web/outline_play_arrow_black_18dp.png"
              (click)="playSong(i)"
            />
            <img
              *ngIf="isPaused === false && indexOfSongPlaying === i"
              class="pause-button"
              src="/assets/icons/web/baseline_pause_black_18dp.png"
              (click)="pauseTrack()"
            />
            <a>{{ track.title }}</a>
          </div>
          <div class="right-side-items">
            <a>{{ track.durationInSec }}s</a>
            <img src="/assets/icons/web/outline_comment_black_18dp.png" />
          </div>
        </div>
      </div>

      <div style="float: right">
        <button
          type="submit"
          cdkFocusInitial
          [disabled]="!albumForm.form.valid"
        >
          <mat-icon>done_outline</mat-icon>
          <span style="padding-top: 30px">create</span>
        </button>
      </div>
    </div>
  </form>
</div>
